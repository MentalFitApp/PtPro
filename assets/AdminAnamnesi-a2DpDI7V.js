import{r,j as e}from"./react-FJB7Hj_2.js";import{y as p,z as v}from"./@firebase-D5dUFubL.js";import{d as f}from"./index-C1w-7Ivh.js";import{g,a as N}from"./react-router-DF4cN2Hx.js";import{A as z,m as x,N as o}from"./lucide-react-BYK_Rxhn.js";import{m as j}from"./framer-motion-Bo7GrDk8.js";import"./papaparse-BHXrM2Hc.js";import"./idb-BXWtuYvb.js";import"./react-dom-BrtcLnxQ.js";import"./scheduler-DYLXRpC5.js";import"./react-router-dom-udQfSOCw.js";import"./@remix-run-CjG9tKj3.js";import"./firebase-CiybzbB3.js";import"./tslib-BGVaTf34.js";import"./motion-dom-C8PdgYBP.js";import"./motion-utils-DBsP9okC.js";const c=()=>e.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden bg-zinc-950",children:e.jsx("div",{className:"aurora-background"})}),a=({label:t,value:i})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400",children:t}),e.jsx("p",{className:"mt-1 p-3 bg-zinc-900 rounded-lg min-h-[44px] text-slate-200 break-words whitespace-pre-wrap shadow-inner",children:i||"Non specificato"})]}),A=({urls:t})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["front","right","left","back"].map(i=>e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 capitalize",children:i==="front"?"Frontale":i==="back"?"Posteriore":`Laterale ${i==="left"?"Sinistro":"Destro"}`}),t!=null&&t[i]?e.jsx(j.img,{src:t[i],alt:i,className:"mt-2 rounded-lg w-full h-48 sm:h-40 object-cover hover:scale-105 transition-transform",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}):e.jsx("div",{className:"mt-2 flex justify-center items-center w-full h-48 sm:h-40 bg-zinc-900 rounded-lg text-slate-500",children:e.jsx("span",{children:"Non caricata"})})]},i))}),B=()=>{const{uid:t}=g(),i=N(),[s,h]=r.useState(null),[b,m]=r.useState(!0);if(r.useEffect(()=>{(async()=>{if(!t){m(!1);return}const u=p(f,`clients/${t}/anamnesi`,"initial"),d=await v(u);d.exists()&&h(d.data()),m(!1)})()},[t]),b)return e.jsxs("div",{className:"min-h-screen flex justify-center items-center relative",children:[e.jsx(c,{}),e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-400"})]});if(!s)return e.jsxs("div",{className:"min-h-screen flex justify-center items-center relative text-slate-200",children:[e.jsx(c,{}),e.jsx("p",{children:"Nessun dato anamnestico trovato per questo cliente."})]});const l="bg-zinc-950/60 backdrop-blur-xl rounded-2xl gradient-border p-6 shadow-lg",n="font-bold mb-4 text-lg text-cyan-300 border-b border-cyan-400/20 pb-2 flex items-center gap-2";return e.jsxs("div",{className:"min-h-screen text-slate-200 p-4 sm:p-6 lg:p-8 relative",children:[e.jsx(c,{}),e.jsxs("header",{className:"flex justify-between items-center mb-8 flex-col sm:flex-row gap-4",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-50",children:["Anamnesi - ",s.firstName," ",s.lastName]}),e.jsxs("button",{onClick:()=>i("/clients"),className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-slate-300 text-sm font-semibold rounded-lg transition-colors",children:[e.jsx(z,{size:16}),e.jsx("span",{children:"Torna ai Clienti"})]})]}),e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:n,children:[e.jsx(x,{size:16})," Dati Anagrafici"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(a,{label:"Nome",value:s.firstName}),e.jsx(a,{label:"Cognome",value:s.lastName}),e.jsx(a,{label:"Data di Nascita",value:s.birthDate}),e.jsx(a,{label:"Lavoro",value:s.job}),e.jsx(a,{label:"Peso (kg)",value:s.weight}),e.jsx(a,{label:"Altezza (cm)",value:s.height})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:n,children:[e.jsx(o,{size:16})," Abitudini Alimentari"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Pasti al giorno",value:s.mealsPerDay}),e.jsx(a,{label:"Tipo Colazione",value:s.breakfastType}),e.jsx(a,{label:"Alimenti preferiti",value:s.desiredFoods}),e.jsx(a,{label:"Alimenti da evitare",value:s.dislikedFoods}),e.jsx(a,{label:"Allergie/Intolleranze",value:s.intolerances}),e.jsx(a,{label:"Problemi di digestione",value:s.digestionIssues})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:n,children:[e.jsx(x,{size:16})," Allenamento"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Allenamenti a settimana",value:s.workoutsPerWeek}),e.jsx(a,{label:"Dettagli Allenamento",value:s.trainingDetails}),e.jsx(a,{label:"Orario e Durata",value:s.trainingTime})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:n,children:[e.jsx(o,{size:16})," Salute e Obiettivi"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Infortuni o problematiche",value:s.injuries}),e.jsx(a,{label:"Farmaci",value:s.medications}),e.jsx(a,{label:"Integratori",value:s.supplements}),e.jsx(a,{label:"Obiettivo Principale",value:s.mainGoal}),e.jsx(a,{label:"Durata Percorso",value:s.programDuration})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:n,children:[e.jsx(o,{size:16})," Foto Iniziali"]}),e.jsx(A,{urls:s.photoURLs})]})]})]})};export{B as default};
