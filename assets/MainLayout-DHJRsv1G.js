import{r,j as e}from"./react-CrXOBDSJ.js";import{b as x,O as L,a as j}from"./react-router-BxpCmtJ-.js";import{m as c,A as f}from"./framer-motion-BAPjnw1b.js";import{C as M,a as A,H as p,b as w,U as d,M as v,F as y,B as g,S as P,c as I}from"./lucide-react-7Eidy6wR.js";import"./core-js-ChGsxLo2.js";import"./@remix-run-CjG9tKj3.js";import"./motion-dom-C8PdgYBP.js";import"./motion-utils-DBsP9okC.js";const $=()=>{const[o,l]=r.useState(!1);return r.useEffect(()=>{if(o)return;const t=document.createElement("div");t.className="stars",document.body.appendChild(t);for(let i=0;i<25;i++){const s=document.createElement("div");s.className="star";const a=i%5===0?1:i%3===0?2:3;s.style.setProperty("--star-width",`${a}px`),s.style.setProperty("--top-offset",`${Math.random()*100}vh`),s.style.setProperty("--fall-duration",`${10+Math.random()*10}s`),s.style.setProperty("--fall-delay",`${Math.random()*8}s`),i%5===0&&s.classList.add("gold"),t.appendChild(s)}l(!0)},[o]),null},z=[{to:"/",icon:e.jsx(p,{size:18}),label:"Dashboard",isCentral:!0},{to:"/clients",icon:e.jsx(d,{size:18}),label:"Clienti"},{to:"/chat",icon:e.jsx(v,{size:18}),label:"Chat"},{to:"/updates",icon:e.jsx(g,{size:18}),label:"NovitÃ "},{to:"/collaboratori",icon:e.jsx(d,{size:18}),label:"Collaboratori"},{to:"/guide-manager",icon:e.jsx(y,{size:18}),label:"Guide & Lead"},{to:"/admin/dipendenti",icon:e.jsx(d,{size:18}),label:"Dipendenti"},{to:"/calendar",icon:e.jsx(w,{size:18}),label:"Calendario"},{to:"/statistiche",icon:e.jsx(I,{size:18}),label:"Statistiche"}],N=[{to:"/coach",icon:e.jsx(p,{size:18}),label:"Dashboard",isCentral:!0},{to:"/coach/clients",icon:e.jsx(d,{size:18}),label:"Clienti"},{to:"/coach/chat",icon:e.jsx(v,{size:18}),label:"Chat"},{to:"/coach/anamnesi",icon:e.jsx(y,{size:18}),label:"Anamnesi"},{to:"/coach/updates",icon:e.jsx(g,{size:18}),label:"Aggiornamenti"},{to:"/coach/settings",icon:e.jsx(P,{size:18}),label:"Impostazioni"}],C=[{to:"/collaboratore/dashboard",icon:e.jsx(p,{size:18}),label:"Dashboard",isCentral:!0},{to:"/collaboratore/calendar",icon:e.jsx(w,{size:18}),label:"Calendario"}],B=["/login","/client-login","/register","/reset-password"],F=({isCoach:o,isCollaboratore:l})=>{const t=x(),i=j(),s=l?C:o?N:z;return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-2xl border-t border-white/10 z-50 md:hidden",children:e.jsx("div",{className:"px-2 py-2",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hidden snap-x snap-mandatory",children:s.map(a=>e.jsxs(c.button,{onClick:()=>i(a.to),className:`flex flex-col items-center justify-center min-w-[60px] h-14 px-3 rounded-xl transition-all text-xs snap-center ${t.pathname===a.to||t.pathname.startsWith(a.to+"/")?"text-rose-500 bg-rose-600/10":"text-slate-400 hover:text-rose-400"}`,whileHover:{scale:1.1},whileTap:{scale:.95},children:[a.icon,e.jsx("span",{className:"text-[10px] mt-1 truncate w-full",children:a.label})]},a.to))})})})},H=({isCoach:o,isCollaboratore:l,isCollapsed:t,setIsCollapsed:i})=>{const s=j(),a=x(),h=l?C:o?N:z;return e.jsxs(c.aside,{initial:!1,animate:{width:t?64:240},className:"hidden md:flex fixed left-0 top-0 h-screen bg-slate-900/90 backdrop-blur-xl border-r border-white/10 z-40 flex-col transition-all duration-300",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-white/5",children:[e.jsx(f,{children:!t&&e.jsx(c.h1,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-xl font-bold text-slate-100",children:"FitFlow Pro"})}),e.jsx("button",{onClick:()=>i(!t),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors text-slate-400",children:t?e.jsx(M,{size:18}):e.jsx(A,{size:18})})]}),e.jsx("nav",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:h.map(n=>e.jsxs(c.button,{onClick:()=>s(n.to),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${a.pathname===n.to||a.pathname.startsWith(n.to+"/")?"bg-rose-600/20 text-rose-400 border border-rose-600/30":"text-slate-300 hover:bg-white/5 hover:text-rose-400"}`,whileHover:{x:4},whileTap:{scale:.98},children:[n.icon,e.jsx(f,{children:!t&&e.jsx(c.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"overflow-hidden whitespace-nowrap",children:n.label})})]},n.to))})]})};function q(){const o=x(),[l,t]=r.useState(!1),[i,s]=r.useState(!1),[a,h]=r.useState(!1),[n,S]=r.useState(!1),b=B.includes(o.pathname),u=!b,E=!b&&n;return r.useEffect(()=>{t(o.pathname.startsWith("/coach")),s(o.pathname.startsWith("/collaboratore"))},[o.pathname]),r.useEffect(()=>{const m=()=>S(window.innerWidth<768);return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"starry-background"}),e.jsx($,{}),e.jsxs("div",{className:"relative min-h-screen flex",children:[u&&e.jsx(H,{isCoach:l,isCollaboratore:i,isCollapsed:a,setIsCollapsed:h}),e.jsxs("div",{className:`flex-1 transition-all duration-300 ${u?a?"md:ml-16":"md:ml-60":"ml-0"}`,children:[e.jsx("main",{className:"min-h-screen p-4 sm:p-6 lg:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto w-full",children:e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:e.jsx(L,{})},o.pathname)})}),E&&e.jsx(F,{isCoach:l,isCollaboratore:i})]})]}),e.jsx("style",{children:`
        .scrollbar-hidden {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .scrollbar-hidden::-webkit-scrollbar {
          display: none;
        }
      `})]})}export{q as default};
