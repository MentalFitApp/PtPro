import{E as v,h as g,r,j as e,aC as f,q as j,at as x,b5 as o,e as p,f as N}from"./.pnpm-C04Ba0Xq.js";import{d as A}from"./index-DdCoIfwr.js";const c=()=>e.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden bg-slate-900",children:e.jsx("div",{className:"aurora-background"})}),a=({label:i,value:l})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400",children:i}),e.jsx("p",{className:"mt-1 p-3 bg-slate-800 rounded-lg min-h-[44px] text-slate-200 break-words whitespace-pre-wrap shadow-inner",children:l||"Non specificato"})]}),w=({urls:i})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["front","right","left","back"].map(l=>e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 capitalize",children:l==="front"?"Frontale":l==="back"?"Posteriore":`Laterale ${l==="left"?"Sinistro":"Destro"}`}),i!=null&&i[l]?e.jsx(j.img,{src:i[l],alt:l,className:"mt-2 rounded-lg w-full h-48 sm:h-40 object-cover hover:scale-105 transition-transform",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}):e.jsx("div",{className:"mt-2 flex justify-center items-center w-full h-48 sm:h-40 bg-slate-800 rounded-lg text-slate-500",children:e.jsx("span",{children:"Non caricata"})})]},l))}),k=()=>{const{uid:i}=v(),l=g(),[s,h]=r.useState(null),[b,d]=r.useState(!0);if(r.useEffect(()=>{(async()=>{if(!i){d(!1);return}const u=p(A,`clients/${i}/anamnesi`,"initial"),m=await N(u);m.exists()&&h(m.data()),d(!1)})()},[i]),b)return e.jsxs("div",{className:"min-h-screen flex justify-center items-center relative",children:[e.jsx(c,{}),e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-400"})]});if(!s)return e.jsxs("div",{className:"min-h-screen flex justify-center items-center relative text-slate-200",children:[e.jsx(c,{}),e.jsx("p",{children:"Nessun dato anamnestico trovato per questo cliente."})]});const t="bg-slate-900/60 backdrop-blur-xl rounded-2xl border border-slate-700 p-6 shadow-lg",n="font-bold mb-4 text-lg text-cyan-300 border-b border-cyan-400/20 pb-2 flex items-center gap-2";return e.jsxs("div",{className:"min-h-screen text-slate-200 p-4 sm:p-6 lg:p-8 relative",children:[e.jsx(c,{}),e.jsxs("header",{className:"flex justify-between items-center mb-8 flex-col sm:flex-row gap-4",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-50",children:["Anamnesi - ",s.firstName," ",s.lastName]}),e.jsxs("button",{onClick:()=>l("/clients"),className:"flex items-center gap-2 px-4 py-2 bg-slate-700/50 hover:bg-slate-700/70 border border-slate-600 text-slate-300 text-sm font-semibold rounded-lg transition-colors",children:[e.jsx(f,{size:16}),e.jsx("span",{children:"Torna ai Clienti"})]})]}),e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("div",{className:t,children:[e.jsxs("h4",{className:n,children:[e.jsx(x,{size:16})," Dati Anagrafici"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(a,{label:"Nome",value:s.firstName}),e.jsx(a,{label:"Cognome",value:s.lastName}),e.jsx(a,{label:"Data di Nascita",value:s.birthDate}),e.jsx(a,{label:"Lavoro",value:s.job}),e.jsx(a,{label:"Peso (kg)",value:s.weight}),e.jsx(a,{label:"Altezza (cm)",value:s.height})]})]}),e.jsxs("div",{className:t,children:[e.jsxs("h4",{className:n,children:[e.jsx(o,{size:16})," Abitudini Alimentari"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Pasti al giorno",value:s.mealsPerDay}),e.jsx(a,{label:"Tipo Colazione",value:s.breakfastType}),e.jsx(a,{label:"Alimenti preferiti",value:s.desiredFoods}),e.jsx(a,{label:"Alimenti da evitare",value:s.dislikedFoods}),e.jsx(a,{label:"Allergie/Intolleranze",value:s.intolerances}),e.jsx(a,{label:"Problemi di digestione",value:s.digestionIssues})]})]}),e.jsxs("div",{className:t,children:[e.jsxs("h4",{className:n,children:[e.jsx(x,{size:16})," Allenamento"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Allenamenti a settimana",value:s.workoutsPerWeek}),e.jsx(a,{label:"Dettagli Allenamento",value:s.trainingDetails}),e.jsx(a,{label:"Orario e Durata",value:s.trainingTime})]})]}),e.jsxs("div",{className:t,children:[e.jsxs("h4",{className:n,children:[e.jsx(o,{size:16})," Salute e Obiettivi"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Infortuni o problematiche",value:s.injuries}),e.jsx(a,{label:"Farmaci",value:s.medications}),e.jsx(a,{label:"Integratori",value:s.supplements}),e.jsx(a,{label:"Obiettivo Principale",value:s.mainGoal}),e.jsx(a,{label:"Durata Percorso",value:s.programDuration})]})]}),e.jsxs("div",{className:t,children:[e.jsxs("h4",{className:n,children:[e.jsx(o,{size:16})," Foto Iniziali"]}),e.jsx(w,{urls:s.photoURLs})]})]})]})};export{k as default};
