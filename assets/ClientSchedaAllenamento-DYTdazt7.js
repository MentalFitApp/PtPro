import{r,e as p,f as b,j as e,q as u,an as E,bL as C}from"./.pnpm-C04Ba0Xq.js";import{a as R,d as h}from"./index-DdCoIfwr.js";import{a as z}from"./pdfExport-BSG699br.js";const D=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],k=()=>{var c,o,x,m;const[N,g]=r.useState(!0),[t,j]=r.useState(null),[d,f]=r.useState("Lunedì"),[v,y]=r.useState("");r.useEffect(()=>{S()},[]);const S=async()=>{try{const s=R.currentUser;if(!s)return;const n=p(h,"clients",s.uid),a=await b(n);a.exists()&&y(a.data().name||"N/D");const i=p(h,"schede_allenamento",s.uid),l=await b(i);l.exists()&&j(l.data())}catch(s){console.error("Errore caricamento:",s)}g(!1)};return N?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-slate-900",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})}):t?e.jsx("div",{className:"min-h-screen bg-slate-900 px-4 pt-8 pb-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[e.jsxs(u.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-100",children:"Piano Allenamento"}),e.jsxs("button",{onClick:()=>z(t,v),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg transition-colors",children:[e.jsx(E,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"PDF"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[t.obiettivo&&e.jsx("span",{className:"px-3 py-1 bg-blue-900/30 border border-blue-600/30 text-blue-300 rounded-lg",children:t.obiettivo}),t.livello&&e.jsx("span",{className:"px-3 py-1 bg-purple-900/30 border border-purple-600/30 text-purple-300 rounded-lg",children:t.livello})]}),t.note&&e.jsx("p",{className:"text-slate-400 text-sm mt-2",children:t.note})]}),e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-3",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:D.map(s=>e.jsx("button",{onClick:()=>f(s),className:`px-3 py-2 rounded-lg font-medium transition-colors whitespace-nowrap text-sm ${d===s?"bg-blue-600 text-white":"bg-slate-700 text-slate-300"}`,children:s},s))})}),((o=(c=t.giorni[d])==null?void 0:c.esercizi)==null?void 0:o.length)===0?e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8 text-center text-slate-400",children:"Nessun esercizio programmato per questo giorno"}):(m=(x=t.giorni[d])==null?void 0:x.esercizi)==null?void 0:m.map((s,n)=>{if(s.isMarker){const a=s.type.includes("circuit"),i=s.type.includes("start"),l=a?"bg-cyan-500":"bg-purple-500",I=a?"bg-cyan-900/30 text-cyan-300 border-cyan-600/50":"bg-purple-900/30 text-purple-300 border-purple-600/50",w=a?i?"▼ INIZIO CIRCUITO":"▲ FINE CIRCUITO":i?"▼ INIZIO SUPERSERIE":"▲ FINE SUPERSERIE";return e.jsxs("div",{className:"flex items-center gap-4 my-2",children:[e.jsx("div",{className:`flex-1 h-px ${l}`}),e.jsx("div",{className:`px-4 py-2 rounded-lg font-semibold border ${I} text-sm`,children:w}),e.jsx("div",{className:`flex-1 h-px ${l}`})]},n)}return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:s.nome}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-900/30 border border-blue-600/30 text-blue-300 rounded",children:s.attrezzo}),e.jsx("span",{className:"px-2 py-1 bg-purple-900/30 border border-purple-600/30 text-purple-300 rounded",children:s.gruppoMuscolare})]})]}),s.videoUrl&&e.jsxs("a",{href:s.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors",children:[e.jsx(C,{size:14}),"Video"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-slate-500 text-xs mb-1",children:"Serie"}),e.jsx("div",{className:"text-slate-200 font-semibold",children:s.serie||"-"})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-slate-500 text-xs mb-1",children:"Ripetizioni"}),e.jsx("div",{className:"text-slate-200 font-semibold",children:s.ripetizioni||"-"})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-slate-500 text-xs mb-1",children:"Recupero"}),e.jsx("div",{className:"text-slate-200 font-semibold",children:s.recupero?`${s.recupero}s`:"-"})]})]}),s.noteEsercizio&&e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-slate-500 text-xs mb-1",children:"Note"}),e.jsx("div",{className:"text-slate-300 text-sm",children:s.noteEsercizio})]})]},n)})]})}):e.jsx("div",{className:"min-h-screen bg-slate-900 p-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8 text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-100 mb-2",children:"Scheda Allenamento"}),e.jsx("p",{className:"text-slate-400",children:"Al momento non hai una scheda allenamento attiva."})]})})})};export{k as default};
