import{r as n,j as e}from"./react-CrXOBDSJ.js";import{A as u,B as v}from"./@firebase-CuwLCerw.js";import{d as f}from"./index-CqnSUkzk.js";import{g,a as N}from"./react-router-BxpCmtJ-.js";import{u as A,o as x,Y as o}from"./lucide-react-CCY59hBS.js";import{m as j}from"./framer-motion-BAPjnw1b.js";import"./core-js-ChGsxLo2.js";import"./idb-Bn1DMRyg.js";import"./react-dom-BpmKF3Ga.js";import"./scheduler-DYLXRpC5.js";import"./react-router-dom-9rcY47vU.js";import"./@remix-run-CjG9tKj3.js";import"./jspdf-7Jyqi_bl.js";import"./@babel-Cvov1XSu.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./firebase-Bp3EI6Ad.js";import"./tslib-BGVaTf34.js";import"./motion-dom-C8PdgYBP.js";import"./motion-utils-DBsP9okC.js";const c=()=>e.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden bg-slate-900",children:e.jsx("div",{className:"aurora-background"})}),a=({label:t,value:i})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400",children:t}),e.jsx("p",{className:"mt-1 p-3 bg-slate-800 rounded-lg min-h-[44px] text-slate-200 break-words whitespace-pre-wrap shadow-inner",children:i||"Non specificato"})]}),w=({urls:t})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:["front","right","left","back"].map(i=>e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 capitalize",children:i==="front"?"Frontale":i==="back"?"Posteriore":`Laterale ${i==="left"?"Sinistro":"Destro"}`}),t!=null&&t[i]?e.jsx(j.img,{src:t[i],alt:i,className:"mt-2 rounded-lg w-full h-48 sm:h-40 object-cover hover:scale-105 transition-transform",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}):e.jsx("div",{className:"mt-2 flex justify-center items-center w-full h-48 sm:h-40 bg-slate-800 rounded-lg text-slate-500",children:e.jsx("span",{children:"Non caricata"})})]},i))}),J=()=>{const{uid:t}=g(),i=N(),[s,h]=n.useState(null),[b,m]=n.useState(!0);if(n.useEffect(()=>{(async()=>{if(!t){m(!1);return}const p=u(f,`clients/${t}/anamnesi`,"initial"),d=await v(p);d.exists()&&h(d.data()),m(!1)})()},[t]),b)return e.jsxs("div",{className:"min-h-screen flex justify-center items-center relative",children:[e.jsx(c,{}),e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-400"})]});if(!s)return e.jsxs("div",{className:"min-h-screen flex justify-center items-center relative text-slate-200",children:[e.jsx(c,{}),e.jsx("p",{children:"Nessun dato anamnestico trovato per questo cliente."})]});const l="bg-slate-900/60 backdrop-blur-xl rounded-2xl border border-slate-700 p-6 shadow-lg",r="font-bold mb-4 text-lg text-cyan-300 border-b border-cyan-400/20 pb-2 flex items-center gap-2";return e.jsxs("div",{className:"min-h-screen text-slate-200 p-4 sm:p-6 lg:p-8 relative",children:[e.jsx(c,{}),e.jsxs("header",{className:"flex justify-between items-center mb-8 flex-col sm:flex-row gap-4",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-50",children:["Anamnesi - ",s.firstName," ",s.lastName]}),e.jsxs("button",{onClick:()=>i("/clients"),className:"flex items-center gap-2 px-4 py-2 bg-slate-700/50 hover:bg-slate-700/70 border border-slate-600 text-slate-300 text-sm font-semibold rounded-lg transition-colors",children:[e.jsx(A,{size:16}),e.jsx("span",{children:"Torna ai Clienti"})]})]}),e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:r,children:[e.jsx(x,{size:16})," Dati Anagrafici"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(a,{label:"Nome",value:s.firstName}),e.jsx(a,{label:"Cognome",value:s.lastName}),e.jsx(a,{label:"Data di Nascita",value:s.birthDate}),e.jsx(a,{label:"Lavoro",value:s.job}),e.jsx(a,{label:"Peso (kg)",value:s.weight}),e.jsx(a,{label:"Altezza (cm)",value:s.height})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:r,children:[e.jsx(o,{size:16})," Abitudini Alimentari"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Pasti al giorno",value:s.mealsPerDay}),e.jsx(a,{label:"Tipo Colazione",value:s.breakfastType}),e.jsx(a,{label:"Alimenti preferiti",value:s.desiredFoods}),e.jsx(a,{label:"Alimenti da evitare",value:s.dislikedFoods}),e.jsx(a,{label:"Allergie/Intolleranze",value:s.intolerances}),e.jsx(a,{label:"Problemi di digestione",value:s.digestionIssues})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:r,children:[e.jsx(x,{size:16})," Allenamento"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Allenamenti a settimana",value:s.workoutsPerWeek}),e.jsx(a,{label:"Dettagli Allenamento",value:s.trainingDetails}),e.jsx(a,{label:"Orario e Durata",value:s.trainingTime})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:r,children:[e.jsx(o,{size:16})," Salute e Obiettivi"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{label:"Infortuni o problematiche",value:s.injuries}),e.jsx(a,{label:"Farmaci",value:s.medications}),e.jsx(a,{label:"Integratori",value:s.supplements}),e.jsx(a,{label:"Obiettivo Principale",value:s.mainGoal}),e.jsx(a,{label:"Durata Percorso",value:s.programDuration})]})]}),e.jsxs("div",{className:l,children:[e.jsxs("h4",{className:r,children:[e.jsx(o,{size:16})," Foto Iniziali"]}),e.jsx(w,{urls:s.photoURLs})]})]})]})};export{J as default};
