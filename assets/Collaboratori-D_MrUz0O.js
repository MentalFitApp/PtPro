import{r as l,j as e}from"./react-CrXOBDSJ.js";import{J,K as le,I as Z,H as re,A as F,B as he,v as Ee,X as dt,U as mt,P as xt,Y as ue,Z as pt,N as ee,D as Fe,G as Me}from"./@firebase-CuwLCerw.js";import{a as T,d as g,f as Ae}from"./index-CqnSUkzk.js";import{g as Ie,c as ht,b as Te}from"./firebase-Bp3EI6Ad.js";import{m as b}from"./framer-motion-BAPjnw1b.js";import{a as ut}from"./react-router-BxpCmtJ-.js";import{U as gt,b as bt,P as ft,a4 as ne,f as oe,y as q,k as jt,X as ge,v as Le,p as ie,a as Nt,C as yt,h as wt}from"./lucide-react-CCY59hBS.js";import"./core-js-ChGsxLo2.js";import"./idb-Bn1DMRyg.js";import"./react-dom-BpmKF3Ga.js";import"./scheduler-DYLXRpC5.js";import"./react-router-dom-9rcY47vU.js";import"./@remix-run-CjG9tKj3.js";import"./jspdf-7Jyqi_bl.js";import"./@babel-Cvov1XSu.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./tslib-BGVaTf34.js";import"./motion-dom-C8PdgYBP.js";import"./motion-utils-DBsP9okC.js";const vt=({reports:f=[],collaboratori:D=[],onDateClick:R})=>{const[m,M]=l.useState(new Date);Array.isArray(f)||(f=[]),Array.isArray(D)||(D=[]);const S=new Date(m.getFullYear(),m.getMonth()+1,0).getDate(),G=new Date(m.getFullYear(),m.getMonth(),1).getDay(),x=f.filter(o=>{if(!(o!=null&&o.date))return!1;const p=new Date(o.date);return p.getMonth()===m.getMonth()&&p.getFullYear()===m.getFullYear()}),H=o=>{const p=new Date(m.getFullYear(),m.getMonth(),o).toISOString().split("T")[0],L=new Date().toISOString().split("T")[0],j=x.filter(B=>B.date===p),V=j.length===D.length&&j.every(B=>B.eodReport&&B.tracker),c=j.length>0&&!V;return p<L&&j.length===0?"bg-red-600":c?"bg-yellow-500":V?"bg-green-500":"bg-gray-700"},A=()=>{M(o=>new Date(o.getFullYear(),o.getMonth()-1))},te=()=>{M(o=>new Date(o.getFullYear(),o.getMonth()+1))};return e.jsxs(b.div,{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl sm:rounded-2xl p-3 sm:p-6 mb-4 sm:mb-6 border border-white/10 overflow-x-hidden",initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-200",children:"Calendario Report"}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-between sm:justify-start",children:[e.jsx("button",{onClick:A,className:"px-2 sm:px-3 py-1 text-xs sm:text-sm text-slate-400 hover:text-rose-500 transition-colors rounded",children:"Prec"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-300 font-medium",children:m.toLocaleDateString("it-IT",{month:"short",year:"numeric"})}),e.jsx("button",{onClick:te,className:"px-2 sm:px-3 py-1 text-xs sm:text-sm text-slate-400 hover:text-rose-500 transition-colors rounded",children:"Succ"})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 text-center",children:[["D","L","M","M","G","V","S"].map((o,p)=>e.jsxs("div",{className:"text-[10px] sm:text-xs font-semibold text-slate-400 py-1 sm:py-2",children:[e.jsx("span",{className:"sm:hidden",children:o}),e.jsx("span",{className:"hidden sm:inline",children:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"][p]})]},`day-header-${p}`)),Array.from({length:G},(o,p)=>e.jsx("div",{className:"h-8 sm:h-12"},`empty-${p}`)),Array.from({length:S},(o,p)=>{const L=p+1,j=new Date(m.getFullYear(),m.getMonth(),L);return j.toISOString().split("T")[0],e.jsx(b.button,{onClick:()=>R==null?void 0:R(j),className:`h-8 sm:h-12 w-full rounded text-[10px] sm:text-sm font-medium text-white flex items-center justify-center ${H(L)} hover:scale-105 active:scale-95 transition-all`,whileHover:{scale:1.05},whileTap:{scale:.95},children:L},L)})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-4 mt-3 sm:mt-6 text-[9px] sm:text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded"}),e.jsx("span",{className:"text-slate-400",children:"Completi"})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-yellow-500 rounded"}),e.jsx("span",{className:"text-slate-400",children:"Parziali"})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-600 rounded"}),e.jsx("span",{className:"text-slate-400",children:"Mancanti"})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-gray-700 rounded"}),e.jsx("span",{className:"text-slate-400",children:"Nessun report"})]})]})]})},St=({collaboratori:f})=>{const D=new Date().toISOString().split("T")[0],[R,m]=l.useState([]);return l.useEffect(()=>{const M=f.filter(S=>{const x=(S.dailyReports||[]).find(H=>H.date===D);return!x||!x.eodReport||!x.tracker}).map(S=>{var G;return S.nome||((G=S.email)==null?void 0:G.split("@")[0])||"Sconosciuto"});m(M)},[f]),e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-4 border border-slate-700",children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Stato Report Oggi"}),e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Completati:"})," ",f.length-R.length]}),e.jsxs("p",{className:"text-xs",children:[e.jsx("strong",{children:"Mancanti:"})," ",R.length]}),R.length>0&&e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-red-500 text-xs",children:"Mancanti:"}),e.jsx("ul",{className:"list-disc pl-4 text-xs",children:R.map(M=>e.jsx("li",{children:M},M))})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Nota: 2 report/giorno richiesti."})]})};function qt(){var Re;const f=ut(),[D,R]=l.useState([]),[m,M]=l.useState([]),[S,G]=l.useState([]),[x,H]=l.useState(""),[A,te]=l.useState(""),[o,p]=l.useState("Setter"),[L,j]=l.useState(!0),[V,c]=l.useState(""),[B,i]=l.useState(""),[be,$e]=l.useState(!1),[ce,Oe]=l.useState({leadsToday:0,leadsWeek:0,leadsMonth:0}),[Q,K]=l.useState(null),[$,Y]=l.useState(""),[N,W]=l.useState({date:new Date().toISOString().split("T")[0],followUpsFatti:"",dialedFatti:"",dialedRisposte:"",chiamatePrenotate:""}),[h,O]=l.useState({date:new Date().toISOString().split("T")[0],chiamateFissate:"",chiamateFatte:"",offersFatte:"",chiuse:"",cash:""}),[C,de]=l.useState({chiuso:"tutti",showUp:"tutti",offer:"tutti"}),[fe,Ge]=l.useState(""),[X,_]=l.useState(1),[u,me]=l.useState(null),[n,y]=l.useState({}),xe=10,[Ve,je]=l.useState(!1),[Be,Ye]=l.useState(""),[se,Ne]=l.useState(null),[ye,We]=l.useState([]),[we,He]=l.useState([]),[ve,Se]=l.useState(!1),[Ce,ke]=l.useState(!1),[Qe,ze]=l.useState(!1),[U,De]=l.useState(null),_e=["Info Storie Prima e Dopo","Info Storie Promo","Info Reel","Inizio Reel","Guida Maniglie","Guida Tartaruga","Guida 90","Altre Guide","Guida Panettone","DM Richiesta","Outreach Nuovi Followers","Outreach Vecchi Followers","Follow-Ups","Facebook","TikTok","Referral"];l.useEffect(()=>{if(!T.currentUser){f("/login");return}(async()=>{try{const v=F(g,"roles","admins"),k=await he(v);if(!k.exists()){c('Documento "roles/admins" non trovato.'),j(!1);return}(k.data().uids||[]).includes(T.currentUser.uid)?($e(!0),M([{id:T.currentUser.uid,email:T.currentUser.email,role:"Admin"}])):c("Accesso negato."),j(!1)}catch{c("Errore permessi."),j(!1)}})();const s=J(Z(g,"collaboratori"),le("nome")),a=re(s,v=>{const k=v.docs.map(z=>({id:z.id,...z.data()}));R(k)}),r=J(Z(g,"leads"),le("timestamp","desc")),d=re(r,v=>{const k=v.docs.map(z=>({id:z.id,...z.data()}));G(k),qe(k)}),E=J(Z(g,"settingReports"),le("date","desc")),w=re(E,v=>{const k=v.docs.map(z=>({id:z.id,...z.data()}));We(k)}),I=J(Z(g,"salesReports"),le("date","desc")),P=re(I,v=>{const k=v.docs.map(z=>({id:z.id,...z.data()}));He(k)});return()=>{a(),d(),w(),P()}},[f]);const qe=(t=[])=>{const s=new Date().toISOString().split("T")[0],a=new Date;a.setDate(a.getDate()-a.getDay());const r=new Date(s.slice(0,7)+"-01"),d=t.filter(I=>{var P;return((P=I.timestamp)==null?void 0:P.toDate().toISOString().split("T")[0])===s}).length,E=t.filter(I=>{var P;return((P=I.timestamp)==null?void 0:P.toDate())>=a}).length,w=t.filter(I=>{var P;return((P=I.timestamp)==null?void 0:P.toDate())>=r}).length;Oe({leadsToday:d,leadsWeek:E,leadsMonth:w})},Ke=()=>Math.random().toString(36).slice(-8)+"!",Xe=async()=>{if(!x||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)){c("Email non valida.");return}const t=Ee(Ae,`temp-${Date.now()}`),s=Ie(t),a=dt();try{let r,d=!1;const E=J(Z(g,"collaboratori"),mt("email","==",x)),w=await xt(E);if(w.empty){const v=await pt(a,"getUidByEmail")({email:x.trim().toLowerCase()});v.data.uid?(r=v.data.uid,d=!1):(r=(await ht(s,x,Ke())).user.uid,d=!0)}else if(r=w.docs[0].id,!window.confirm("Collaboratore giÃ  presente. Aggiornare?")){await ue(t);return}const I={uid:r,email:x,nome:x.split("@")[0],ruolo:o,firstLogin:d,assignedAdmin:[T.currentUser.uid],dailyReports:[],tracker:{},personalPipeline:[]};await ee(F(g,"collaboratori",r),I,{merge:!0}),await Te(s,x),i(d?"Creato!":"Riaggiunto!"),H("")}catch(r){c("Errore: "+r.message)}finally{await ue(t)}},Je=async()=>{if(!A||A.length<20){c("UID non valido");return}try{const t=F(g,"collaboratori",A),s=await he(t);if(s.exists()){K(A),Y(s.data().email||""),i("Modifica email");return}const a=`uid_${A.slice(0,8)}@recupero.com`;await ee(t,{uid:A,email:a,nome:a.split("@")[0],ruolo:o,firstLogin:!0,assignedAdmin:[T.currentUser.uid],dailyReports:[],tracker:{},personalPipeline:[]}),i(`Aggiunto: ${a}`),te("")}catch(t){c("Errore: "+t.message)}},Ue=async()=>{if(!Q||!$||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($)){c("Email non valida");return}try{await Fe(F(g,"collaboratori",Q),{email:$,nome:$.split("@")[0]});const t=Ee(Ae,`reset-${Date.now()}`),s=Ie(t);await Te(s,$),i(`Inviato a ${$}`),K(null),Y(""),setTimeout(()=>i(""),4e3),await ue(t)}catch(t){c("Errore: "+t.message)}},Ze=async()=>{const t=`admin_${N.date}`;try{await ee(F(g,"settingReports",t),{...N,uid:T.currentUser.uid,timestamp:new Date}),W({...N,followUpsFatti:"",dialedFatti:"",dialedRisposte:"",chiamatePrenotate:""}),i("Report Setting salvato!"),setTimeout(()=>i(""),3e3)}catch(s){c("Errore: "+s.message)}},et=async()=>{const t=`admin_${h.date}`;try{await ee(F(g,"salesReports",t),{...h,uid:T.currentUser.uid,timestamp:new Date}),O({...h,chiamateFissate:"",chiamateFatte:"",offersFatte:"",chiuse:"",cash:""}),i("Report Vendita salvato!"),setTimeout(()=>i(""),3e3)}catch(s){c("Errore: "+s.message)}},tt=t=>{W({date:t.date,...t}),Se(!1)},st=t=>{O({date:t.date,...t}),ke(!1)},at=t=>{me(t.id),y({name:t.name||"",source:t.source||"",email:t.email||"",number:t.number||"",note:t.note||"",dataPrenotazione:t.dataPrenotazione||"",oraPrenotazione:t.oraPrenotazione||"",amount:t.amount||"",mesi:t.mesi||"",chiuso:t.chiuso||!1,showUp:t.showUp||!1,offer:t.offer||!1,riprenotato:t.riprenotato||!1,dialed:t.dialed??0,target:t.target??!1,settingCall:t.settingCall??!1})},lt=async()=>{var t;if(u)try{const s=(t=S.find(r=>r.id===u))==null?void 0:t.chiuso,a=n.chiuso;if(await Fe(F(g,"leads",u),n),a&&!s){const r={...S.find(d=>d.id===u),...n};De(r),ze(!0)}else i("Lead aggiornato!"),setTimeout(()=>i(""),3e3);me(null),y({})}catch{c("Errore aggiornamento lead.")}},rt=()=>{me(null),y({})},nt=async t=>{if(confirm("Eliminare questo lead?"))try{await Me(F(g,"leads",t)),i("Lead eliminato!"),setTimeout(()=>i(""),3e3)}catch{c("Errore eliminazione lead.")}},ot=async t=>{if(confirm("Eliminare?"))try{await Me(F(g,"collaboratori",t)),i("Eliminato!"),setTimeout(()=>i(""),3e3)}catch{c("Errore eliminazione.")}},it=async()=>{if(confirm("Sincronizzare tutti i lead con il calendario? Verranno creati eventi per i lead che non ne hanno ancora uno.")){j(!0),c(""),i("");try{let t=0,s=0;for(const a of S){if(!a.name||!a.dataPrenotazione||!a.oraPrenotazione||!a.collaboratoreId){s++;continue}try{const r=F(g,"calendarEvents",`lead_${a.id}`);if((await he(r)).exists()){s++;continue}await ee(r,{title:`ðŸ“ž ${a.name}`,date:a.dataPrenotazione,time:a.oraPrenotazione,type:"lead",durationMinutes:30,leadId:a.id,leadData:{name:a.name,number:a.number||"",email:a.email||"",source:a.source||"",note:a.note||""},createdBy:a.collaboratoreId,participants:[a.collaboratoreId],timestamp:new Date}),t++}catch(r){console.error(`Errore su lead ${a.name}:`,r),s++}}i(`âœ… Sincronizzazione completata! Creati: ${t}, GiÃ  esistenti: ${s}`),setTimeout(()=>i(""),5e3)}catch(t){console.error("Errore sincronizzazione:",t),c("Errore durante la sincronizzazione.")}finally{j(!1)}}},Pe=(()=>{const t={};return S.forEach(s=>{const a=s.source||"Sconosciuta";t[a]||(t[a]={total:0,showUp:0,chiuso:0}),t[a].total++,s.showUp&&t[a].showUp++,s.chiuso&&t[a].chiuso++}),Object.entries(t).map(([s,a],r)=>({index:r+1,source:s,total:a.total,showUp:(a.showUp/a.total*100).toFixed(1),chiusura:(a.chiuso/a.total*100).toFixed(1)}))})(),pe=S.filter(t=>{var w;const s=(w=t.name)==null?void 0:w.toLowerCase().includes(fe.toLowerCase()),a=C.chiuso==="tutti"||(C.chiuso==="si"?t.chiuso:!t.chiuso),r=C.showUp==="tutti"||(C.showUp==="si"?t.showUp:!t.showUp),d=C.offer==="tutti"||(C.offer==="si"?t.offer:!t.offer),E=!se||t.collaboratoreId===se;return s&&a&&r&&d&&E}),ae=Math.ceil(pe.length/xe),ct=pe.slice((X-1)*xe,X*xe);return L?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-rose-500"})}):V?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-red-500 p-4",children:[e.jsx("p",{children:V}),e.jsx("button",{onClick:()=>f("/"),className:"mt-4 px-4 py-2 bg-rose-600 text-white rounded-lg",children:"Torna"})]}):be?e.jsx("div",{className:"mobile-container",children:e.jsxs("div",{className:"py-4 sm:py-6 space-y-4 sm:space-y-6",children:[e.jsxs(b.header,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full min-w-0",children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-50 flex items-center gap-2",children:[e.jsx(gt,{size:24})," Gestione"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[e.jsxs(b.button,{onClick:it,className:"flex items-center justify-center gap-1 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded text-xs w-full sm:w-auto",whileHover:{scale:1.05},title:"Sincronizza lead esistenti con il calendario",children:[e.jsx(bt,{size:14})," Sync Calendario"]}),e.jsx("input",{type:"email",value:x,onChange:t=>H(t.target.value),placeholder:"email@esempio.com",className:"px-3 py-1.5 bg-slate-700/50 border border-slate-600 rounded text-xs w-full sm:w-40"}),e.jsxs("select",{value:o,onChange:t=>p(t.target.value),className:"px-3 py-1.5 bg-slate-700/50 border border-slate-600 rounded text-xs w-full sm:w-28",children:[e.jsx("option",{children:"Setter"}),e.jsx("option",{children:"Marketing"}),e.jsx("option",{children:"Vendita"})]}),e.jsxs(b.button,{onClick:Xe,className:"flex items-center justify-center gap-1 px-3 py-1.5 bg-rose-600 hover:bg-rose-700 text-white rounded text-xs w-full sm:w-auto",whileHover:{scale:1.05},children:[e.jsx(ft,{size:14})," Aggiungi"]})]})]}),B&&e.jsx("p",{className:"text-green-500 text-center text-xs",children:B}),V&&e.jsx("p",{className:"text-red-500 text-center text-xs",children:V}),e.jsxs("div",{className:"p-2 sm:p-3 bg-gradient-to-r from-amber-900/20 to-orange-900/20 rounded-lg border border-amber-500/30",children:[e.jsx("p",{className:"text-[10px] sm:text-xs font-bold text-amber-300 mb-2 text-center",children:"RIAGGIUNGI CON UID + CAMBIA EMAIL"}),Q?e.jsxs("div",{className:"flex flex-col gap-1.5 sm:gap-2",children:[e.jsxs("p",{className:"text-[10px] sm:text-xs text-amber-200",children:["Modifica email per ",e.jsxs("strong",{className:"break-all",children:[Q.slice(0,12),"..."]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1.5 sm:gap-2",children:[e.jsx("input",{type:"email",value:$,onChange:t=>Y(t.target.value),placeholder:"nuova@email.it",className:"flex-1 px-2 sm:px-3 py-1.5 bg-slate-700/50 border border-amber-500/50 rounded text-[10px] sm:text-xs"}),e.jsx(b.button,{onClick:Ue,className:"px-2 sm:px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded text-[10px] sm:text-xs font-bold",whileHover:{scale:1.05},children:"Invia"}),e.jsx(b.button,{onClick:()=>{K(null),Y("")},className:"px-2 sm:px-3 py-1.5 bg-slate-700/50 hover:bg-slate-700/70 border border-slate-600 text-white rounded text-[10px] sm:text-xs",whileHover:{scale:1.05},children:"Annulla"})]})]}):e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1.5 sm:gap-2",children:[e.jsx("input",{type:"text",value:A,onChange:t=>te(t.target.value.trim()),placeholder:"Inserisci UID",className:"flex-1 px-2 sm:px-3 py-1.5 bg-slate-700/50 border border-slate-600 rounded text-[10px] sm:text-xs font-mono"}),e.jsxs("select",{value:o,onChange:t=>p(t.target.value),className:"px-2 sm:px-3 py-1.5 bg-slate-700/50 border border-slate-600 rounded text-[10px] sm:text-xs",children:[e.jsx("option",{children:"Setter"}),e.jsx("option",{children:"Marketing"}),e.jsx("option",{children:"Vendita"})]}),e.jsxs(b.button,{onClick:Je,className:"flex items-center justify-center gap-1 px-2 sm:px-3 py-1.5 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white rounded text-[10px] sm:text-xs font-bold",whileHover:{scale:1.05},children:[e.jsx(ne,{size:12,className:"sm:hidden"}),e.jsx(ne,{size:14,className:"hidden sm:block"})," Cerca UID"]})]})]}),e.jsx(St,{collaboratori:D}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4 mb-4 sm:mb-6",children:[{label:"Oggi",leads:ce.leadsToday},{label:"Settimana",leads:ce.leadsWeek},{label:"Mese",leads:ce.leadsMonth}].map((t,s)=>e.jsxs(b.div,{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-2 sm:p-4 border border-slate-700 min-w-0",children:[e.jsx("h3",{className:"text-[10px] sm:text-sm font-semibold text-slate-200",children:t.label}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-green-500 mt-0.5 sm:mt-1",children:t.leads}),e.jsx("p",{className:"text-[9px] sm:text-xs text-slate-400",children:"Leads"})]},s))}),e.jsx("div",{className:"mb-6",children:e.jsx(vt,{reports:D.flatMap(t=>t.dailyReports||[]),collaboratori:D,onDateClick:t=>{const s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");f(`/calendar-report/${s}-${a}-${r}`)}})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 sm:gap-4",children:[e.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-2 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-xs sm:text-sm font-semibold text-cyan-400",children:"Report Setting"}),e.jsxs("button",{onClick:()=>Se(!ve),className:"text-[10px] sm:text-xs flex items-center gap-0.5 sm:gap-1 text-cyan-300 hover:text-cyan-100",children:[e.jsx(oe,{size:10,className:"sm:hidden"}),e.jsx(oe,{size:12,className:"hidden sm:block"})," Storico"]})]}),ve&&e.jsx("div",{className:"mb-2 sm:mb-3 p-1.5 sm:p-2 bg-slate-900/50 border border-cyan-800/30 rounded max-h-24 sm:max-h-32 overflow-y-auto text-[10px] sm:text-xs",children:ye.length===0?e.jsx("p",{className:"text-slate-400",children:"Nessun report"}):ye.map(t=>e.jsxs("button",{onClick:()=>tt(t),className:"block w-full text-left p-1 hover:bg-cyan-900/30 rounded",children:[t.date," â†’ ",t.chiamatePrenotate," prenotate"]},t.id))}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-[10px] sm:text-xs",children:[e.jsx("input",{type:"date",value:N.date,onChange:t=>W({...N,date:t.target.value}),className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:N.followUpsFatti,onChange:t=>W({...N,followUpsFatti:t.target.value}),placeholder:"Follow-ups",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:N.dialedFatti,onChange:t=>W({...N,dialedFatti:t.target.value}),placeholder:"Dialed",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:N.dialedRisposte,onChange:t=>W({...N,dialedRisposte:t.target.value}),placeholder:"Risposte",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:N.chiamatePrenotate,onChange:t=>W({...N,chiamatePrenotate:t.target.value}),placeholder:"Prenotate",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsxs("button",{onClick:Ze,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 text-white py-1.5 rounded text-[10px] sm:text-xs",children:[e.jsx(q,{className:"inline mr-1",size:10}),e.jsx(q,{className:"inline mr-1 hidden sm:inline",size:12})," Salva"]})]})]}),e.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-2 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-xs sm:text-sm font-semibold text-rose-400",children:"Report Vendita"}),e.jsxs("button",{onClick:()=>ke(!Ce),className:"text-[10px] sm:text-xs flex items-center gap-0.5 sm:gap-1 text-rose-300 hover:text-rose-100",children:[e.jsx(oe,{size:10,className:"sm:hidden"}),e.jsx(oe,{size:12,className:"hidden sm:block"})," Storico"]})]}),Ce&&e.jsx("div",{className:"mb-2 sm:mb-3 p-1.5 sm:p-2 bg-slate-900/50 border border-rose-800/30 rounded max-h-24 sm:max-h-32 overflow-y-auto text-[10px] sm:text-xs",children:we.length===0?e.jsx("p",{className:"text-slate-400",children:"Nessun report"}):we.map(t=>e.jsxs("button",{onClick:()=>st(t),className:"block w-full text-left p-1 hover:bg-rose-900/30 rounded",children:[t.date," â†’ ",t.chiuse," chiuse"]},t.id))}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-[10px] sm:text-xs",children:[e.jsx("input",{type:"date",value:h.date,onChange:t=>O({...h,date:t.target.value}),className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:h.chiamateFissate,onChange:t=>O({...h,chiamateFissate:t.target.value}),placeholder:"Fissate",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:h.chiamateFatte,onChange:t=>O({...h,chiamateFatte:t.target.value}),placeholder:"Fatte",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:h.offersFatte,onChange:t=>O({...h,offersFatte:t.target.value}),placeholder:"Warm",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:h.chiuse,onChange:t=>O({...h,chiuse:t.target.value}),placeholder:"Chiuse",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsx("input",{type:"number",value:h.cash,onChange:t=>O({...h,cash:t.target.value}),placeholder:"Cash",className:"w-full p-1 sm:p-1.5 bg-slate-700/50 border border-slate-600 rounded"}),e.jsxs("button",{onClick:et,className:"w-full bg-gradient-to-r from-rose-600 to-red-600 text-white py-1.5 rounded text-[10px] sm:text-xs",children:[e.jsx(q,{className:"inline mr-1",size:10}),e.jsx(q,{className:"inline mr-1 hidden sm:inline",size:12})," Salva"]})]})]})]}),e.jsx("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-2 sm:p-4 border border-slate-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mb-3",children:[e.jsxs("h2",{className:"text-xs sm:text-sm font-semibold text-slate-200",children:["Leads (",pe.length,")"]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-slate-700/50 rounded px-2 py-1 flex-1 sm:flex-none",children:[e.jsx(jt,{size:12,className:"text-slate-400"}),e.jsx("input",{type:"text",value:fe,onChange:t=>{Ge(t.target.value),_(1)},placeholder:"Cerca...",className:"bg-transparent outline-none w-full sm:w-24"})]}),e.jsxs("select",{value:C.chiuso,onChange:t=>{de({...C,chiuso:t.target.value}),_(1)},className:"bg-slate-700/50 border border-slate-600 rounded px-1.5 py-1 text-[10px] sm:text-xs flex-1 sm:flex-none",children:[e.jsx("option",{value:"tutti",children:"Chiuso: Tutti"}),e.jsx("option",{value:"si",children:"Chiuso: SÃ¬"}),e.jsx("option",{value:"no",children:"Chiuso: No"})]}),e.jsxs("select",{value:C.showUp,onChange:t=>{de({...C,showUp:t.target.value}),_(1)},className:"bg-slate-700/50 border border-slate-600 rounded px-1.5 py-1 text-[10px] sm:text-xs flex-1 sm:flex-none",children:[e.jsx("option",{value:"tutti",children:"Show-Up: Tutti"}),e.jsx("option",{value:"si",children:"Show-Up: SÃ¬"}),e.jsx("option",{value:"no",children:"Show-Up: No"})]}),e.jsxs("select",{value:C.offer,onChange:t=>{de({...C,offer:t.target.value}),_(1)},className:"bg-slate-700/50 border border-slate-600 rounded px-1.5 py-1 text-[10px] sm:text-xs flex-1 sm:flex-none",children:[e.jsx("option",{value:"tutti",children:"Warm: Tutti"}),e.jsx("option",{value:"si",children:"Warm: SÃ¬"}),e.jsx("option",{value:"no",children:"Warm: No"})]})]})]})}),e.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-2 sm:p-4 border border-slate-700",children:[e.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0",children:e.jsx("div",{className:"inline-block min-w-full align-middle",children:e.jsxs("table",{className:"w-full text-[10px] sm:text-xs text-left text-slate-400",children:[e.jsx("thead",{className:"text-[10px] sm:text-xs uppercase bg-slate-900/50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center",children:"Az"}),e.jsx("th",{className:"px-1 sm:px-2 py-1",children:"Nome"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 hidden md:table-cell",children:"Fonte"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 hidden lg:table-cell",children:"Email"}),e.jsx("th",{className:"px-1 sm:px-2 py-1",children:"Num"}),e.jsx("th",{className:"px-1 sm:px-2 py-1",children:"Data"}),e.jsx("th",{className:"px-1 sm:px-2 py-1",children:"Setter"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center hidden lg:table-cell",children:"Dialed"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center",children:"Setting Call"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center",children:"Show-Up"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center hidden md:table-cell",children:"Target"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center",children:"Warm"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center",children:"Closed"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center",children:"â‚¬"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 text-center hidden sm:table-cell",children:"M"}),e.jsx("th",{className:"px-1 sm:px-2 py-1 hidden lg:table-cell",children:"Note"})]})}),e.jsx("tbody",{children:ct.map(t=>e.jsxs("tr",{className:"border-b border-white/10 hover:bg-slate-700/30",children:[e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center",children:u===t.id?e.jsxs("div",{className:"flex gap-0.5 sm:gap-1 justify-center",children:[e.jsxs("button",{onClick:lt,className:"text-green-400",children:[e.jsx(q,{size:10,className:"sm:hidden"}),e.jsx(q,{size:12,className:"hidden sm:block"})]}),e.jsxs("button",{onClick:rt,className:"text-red-400",children:[e.jsx(ge,{size:10,className:"sm:hidden"}),e.jsx(ge,{size:12,className:"hidden sm:block"})]})]}):e.jsxs("div",{className:"flex gap-0.5 sm:gap-1 justify-center",children:[e.jsxs("button",{onClick:()=>at(t),className:"text-cyan-400",children:[e.jsx(Le,{size:10,className:"sm:hidden"}),e.jsx(Le,{size:12,className:"hidden sm:block"})]}),e.jsxs("button",{onClick:()=>nt(t.id),className:"text-red-400",children:[e.jsx(ie,{size:10,className:"sm:hidden"}),e.jsx(ie,{size:12,className:"hidden sm:block"})]})]})}),e.jsx("td",{className:"px-1 sm:px-2 py-1",children:u===t.id?e.jsx("input",{value:n.name,onChange:s=>y({...n,name:s.target.value}),className:"w-full p-0.5 sm:p-1 bg-slate-700/50 border border-slate-600 rounded text-[10px] sm:text-xs"}):e.jsx("div",{className:"max-w-[60px] sm:max-w-[80px] truncate font-medium",children:t.name||"â€”"})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 hidden md:table-cell",children:u===t.id?e.jsxs("select",{value:n.source,onChange:s=>y({...n,source:s.target.value}),className:"w-full p-1 bg-slate-700/50 border border-slate-600 rounded text-xs",children:[e.jsx("option",{value:"",children:"â€”"}),_e.map(s=>e.jsx("option",{value:s,children:s},s))]}):e.jsx("div",{className:"max-w-[100px] truncate",children:t.source||"â€”"})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 truncate max-w-[100px] hidden lg:table-cell",children:t.email||"â€”"}),e.jsx("td",{className:"px-1 sm:px-2 py-1",children:t.number||"â€”"}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-[9px] sm:text-[10px]",children:t.dataPrenotazione?`${t.dataPrenotazione.slice(5)} ${t.oraPrenotazione||""}`:"â€”"}),e.jsx("td",{className:"px-1 sm:px-2 py-1 truncate max-w-[60px] sm:max-w-[70px]",children:t.collaboratoreNome||"â€”"}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center hidden lg:table-cell",children:u===t.id?e.jsx("input",{type:"number",min:"0",value:n.dialed||0,onChange:s=>y({...n,dialed:parseInt(s.target.value)||0}),className:"w-12 p-0.5 bg-slate-700/50 border border-slate-600 rounded text-xs text-center"}):e.jsx("span",{className:"font-bold text-cyan-400",children:t.dialed??0})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center",children:u===t.id?e.jsx("input",{type:"checkbox",checked:n.settingCall||!1,onChange:s=>y({...n,settingCall:s.target.checked}),className:"w-3 h-3"}):e.jsx("div",{className:`font-bold text-[10px] ${t.settingCall?"text-green-400":"text-red-400"}`,children:t.settingCall?"SÃ¬":"No"})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center",children:u===t.id?e.jsx("input",{type:"checkbox",checked:n.showUp,onChange:s=>y({...n,showUp:s.target.checked}),className:"w-3 h-3"}):e.jsx("div",{className:`font-bold text-[10px] ${t.showUp?"text-green-400":"text-red-400"}`,children:t.showUp?"SÃ¬":"No"})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center hidden md:table-cell",children:u===t.id?e.jsx("input",{type:"checkbox",checked:n.target||!1,onChange:s=>y({...n,target:s.target.checked}),className:"w-3 h-3"}):e.jsx("div",{className:`font-bold text-[10px] ${t.target?"text-yellow-400":"text-gray-500"}`,children:t.target?"SÃ¬":"No"})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center",children:u===t.id?e.jsx("input",{type:"checkbox",checked:n.offer,onChange:s=>y({...n,offer:s.target.checked}),className:"w-3 h-3"}):e.jsx("div",{className:`font-bold text-[10px] ${t.offer?"text-yellow-400":"text-gray-500"}`,children:t.offer?"SÃ¬":"No"})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center",children:u===t.id?e.jsx("input",{type:"checkbox",checked:n.chiuso,onChange:s=>y({...n,chiuso:s.target.checked}),className:"w-3 h-3"}):e.jsx("div",{className:`font-bold text-[10px] ${t.chiuso?"text-green-400":"text-yellow-400"}`,children:t.chiuso?"SÃ¬":"No"})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center",children:u===t.id?e.jsx("input",{type:"number",min:"0",step:"0.01",value:n.amount||"",onChange:s=>y({...n,amount:s.target.value}),className:"w-12 sm:w-16 p-0.5 bg-slate-700/50 border border-slate-600 rounded text-[10px] sm:text-xs text-center"}):e.jsxs("div",{className:"font-bold text-green-400 text-[10px] sm:text-xs",children:["â‚¬",t.amount||0]})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 text-center hidden sm:table-cell",children:u===t.id?e.jsx("input",{type:"number",min:"0",value:n.mesi||"",onChange:s=>y({...n,mesi:s.target.value}),className:"w-10 sm:w-12 p-0.5 bg-slate-700/50 border border-slate-600 rounded text-xs text-center"}):e.jsx("div",{className:"font-bold",children:t.mesi||0})}),e.jsx("td",{className:"px-1 sm:px-2 py-1 max-w-[120px] truncate hidden lg:table-cell",children:e.jsx("button",{onClick:()=>{Ye(t.note||"Nessuna nota"),je(!0)},className:"text-cyan-400 hover:underline text-[10px] sm:text-xs",children:t.note?"Vedi":"â€”"})})]},t.id))})]})})}),ae>1&&e.jsxs("div",{className:"flex justify-center gap-3 mt-4 text-xs",children:[e.jsx("button",{onClick:()=>_(t=>Math.max(t-1,1)),disabled:X===1,className:"p-1 text-cyan-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Nt,{size:14})}),e.jsxs("span",{className:"text-slate-300 self-center",children:["Pag ",X," di ",ae]}),e.jsx("button",{onClick:()=>_(t=>Math.min(t+1,ae)),disabled:X===ae,className:"p-1 text-cyan-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(yt,{size:14})})]})]}),e.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-2 sm:p-4 border border-slate-700",children:[e.jsx("h2",{className:"text-xs sm:text-sm font-semibold text-slate-200 mb-2 sm:mb-3",children:"Lead per Fonte"}),e.jsx("div",{className:"space-y-1 text-[10px] sm:text-xs",children:Pe.length===0?e.jsx("p",{className:"text-slate-400",children:"Nessun lead"}):Pe.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-1.5 sm:p-2 bg-slate-700/50 rounded border border-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-1 min-w-0",children:[e.jsxs("span",{className:"text-cyan-400 font-bold flex-shrink-0",children:[t.index,"."]}),e.jsx("span",{className:"truncate max-w-[100px] sm:max-w-[120px]",children:t.source})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-shrink-0",children:[e.jsx("span",{children:e.jsx("strong",{children:t.total})}),e.jsx("span",{className:"text-green-400",children:e.jsxs("strong",{children:[t.showUp,"%"]})}),e.jsx("span",{className:"text-rose-400",children:e.jsxs("strong",{children:[t.chiusura,"%"]})})]})]},t.source))})]}),e.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-xl p-2 sm:p-4 border border-slate-700",children:[e.jsx("h2",{className:"text-xs sm:text-sm font-semibold text-slate-200 mb-2 sm:mb-3",children:"Collaboratori"}),e.jsx("div",{className:"space-y-1.5 sm:space-y-2 text-[10px] sm:text-xs",children:[...D,...m].map(t=>{var d,E;const s=t.id===((d=T.currentUser)==null?void 0:d.uid),a=t.nome||((E=t.email)==null?void 0:E.split("@")[0])||"Sconosciuto",r=se===t.id;return e.jsxs(b.div,{className:`p-1.5 sm:p-2 bg-slate-700/50 rounded border ${r?"border-cyan-500":"border-slate-600"} flex justify-between items-center cursor-pointer`,whileHover:{scale:1.02},onClick:()=>Ne(r?null:t.id),children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-slate-200 truncate",children:[a," (",t.ruolo||t.role,")"]}),e.jsx("p",{className:"text-slate-400 truncate text-[9px] sm:text-[10px]",children:t.email||"â€”"})]}),be&&!s&&e.jsxs("div",{className:"flex gap-0.5 sm:gap-1 ml-1 sm:ml-2 flex-shrink-0",children:[e.jsxs("button",{onClick:w=>{w.stopPropagation(),K(t.id),Y(t.email||"")},className:"p-0.5 sm:p-1 text-yellow-400",children:[e.jsx(ne,{size:10,className:"sm:hidden"}),e.jsx(ne,{size:12,className:"hidden sm:block"})]}),e.jsxs("button",{onClick:w=>{w.stopPropagation(),confirm(`Elimina ${a}?`)&&ot(t.id)},className:"p-0.5 sm:p-1 text-red-400",children:[e.jsx(ie,{size:10,className:"sm:hidden"}),e.jsx(ie,{size:12,className:"hidden sm:block"})]})]})]},t.id)})}),se&&e.jsx("button",{onClick:()=>Ne(null),className:"mt-2 text-[10px] sm:text-xs text-cyan-400 hover:underline",children:"â† Mostra tutti i leads"})]}),Ve&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(b.div,{initial:{scale:.9},animate:{scale:1},className:"bg-slate-800/90 backdrop-blur-md rounded-xl p-6 max-w-lg w-full border border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-100",children:"Nota Completa"}),e.jsx("button",{onClick:()=>je(!1),className:"text-slate-400 hover:text-white",children:e.jsx(ge,{size:18})})]}),e.jsx("p",{className:"text-sm text-slate-300 whitespace-pre-wrap",children:Be})]})}),Qe&&U&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-800/90 backdrop-blur-md rounded-xl p-6 max-w-md w-full border border-slate-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-emerald-400 mb-3 flex items-center gap-2",children:[e.jsx(wt,{size:24})," Lead Chiuso!"]}),e.jsxs("p",{className:"text-sm text-slate-300 mb-4",children:["Vuoi aggiungere ",e.jsx("strong",{children:U.name})," come nuovo cliente?"]}),e.jsxs("div",{className:"bg-slate-900/50 p-3 rounded-lg mb-4 text-xs space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Importo:"})," â‚¬",U.amount||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Durata:"})," ",U.mesi||0," mesi"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{ze(!1),De(null),i("Lead chiuso senza conversione."),setTimeout(()=>i(""),3e3)},className:"flex-1 px-4 py-2 bg-slate-700/50 hover:bg-slate-700/70 border border-slate-600 text-white rounded-lg text-sm transition-colors",children:"Solo Chiudi"}),e.jsx("button",{onClick:()=>{f("/new-client",{state:{prefill:{name:U.name||"",email:U.email||"",phone:U.number||"",paymentAmount:U.amount?String(U.amount):"",duration:U.mesi?String(U.mesi):"",planType:"completo"}}})},className:"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Crea Cliente"})]})]})}),Q&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-slate-800/90 backdrop-blur-md rounded-xl p-6 max-w-sm w-full border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-3",children:"Modifica Email"}),e.jsxs("p",{className:"text-sm text-slate-300 mb-4",children:["Nuova email per ",e.jsx("strong",{children:((Re=D.find(t=>t.id===Q))==null?void 0:Re.nome)||"utente"})]}),e.jsx("input",{type:"email",value:$,onChange:t=>Y(t.target.value),placeholder:"nuova@email.it",className:"w-full px-3 py-2 bg-slate-700/50 border border-slate-600 rounded text-sm mb-4 focus:ring-1 focus:ring-yellow-500"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Ue,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-2 rounded-lg text-sm font-medium",children:"Aggiorna e Invia"}),e.jsx("button",{onClick:()=>{K(null),Y("")},className:"flex-1 bg-slate-700/50 hover:bg-slate-700/70 border border-slate-600 text-slate-300 py-2 rounded-lg text-sm font-medium",children:"Annulla"})]})]})})]})}):null}export{qt as default};
