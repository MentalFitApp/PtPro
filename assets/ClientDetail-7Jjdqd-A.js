var je=Object.defineProperty;var ge=(l,i,s)=>i in l?je(l,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[i]=s;var J=(l,i,s)=>ge(l,typeof i!="symbol"?i+"":i,s);import{r,j as e,R as fe}from"./react-CrXOBDSJ.js";import{A as N,H as C,J as X,K as V,I as Y,Q as ee,R as se,G as ve,D as W}from"./@firebase-CuwLCerw.js";import{t as k,d as f,u as q,s as te}from"./index-BVkI2ezc.js";import{Q as Ne}from"./QuickNotifyButton-BNINcREi.js";import{g as we,a as ye}from"./react-router-BxpCmtJ-.js";import{m as w}from"./framer-motion-BAPjnw1b.js";import{u as ke,v as ze,P as De,w as le,p as Se,x as Ce,e as Ee,y as Pe,z as Re,G as Me,b as Te,D as Ae,Z as ae,F,X as B}from"./lucide-react-CCY59hBS.js";import"./core-js-ChGsxLo2.js";import"./idb-Bn1DMRyg.js";import"./react-dom-BpmKF3Ga.js";import"./scheduler-DYLXRpC5.js";import"./react-router-dom-9rcY47vU.js";import"./@remix-run-CjG9tKj3.js";import"./jspdf-7Jyqi_bl.js";import"./@babel-Cvov1XSu.js";import"./fflate-XZmX483V.js";import"./fast-png-CUrN0NP5.js";import"./iobuffer-DZ1zOcUT.js";import"./pako-B9FS3IR_.js";import"./firebase-Bp3EI6Ad.js";import"./tslib-BGVaTf34.js";import"./motion-dom-C8PdgYBP.js";import"./motion-utils-DBsP9okC.js";class Ie extends fe.Component{constructor(){super(...arguments);J(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}render(){return this.state.hasError?e.jsxs("div",{className:"text-center text-red-400 p-8",children:["Errore: ",this.state.error.message]}):this.props.children}}const Le=({status:l})=>{const i={attivo:"bg-emerald-900/80 text-emerald-300 border border-emerald-500/30",rinnovato:"bg-amber-900/80 text-amber-300 border border-amber-500/30",non_rinnovato:"bg-red-900/80 text-red-400 border border-red-500/30",na:"bg-slate-700/80 text-slate-300 border border-slate-500/30"},s={attivo:"Attivo",rinnovato:"In Scadenza",non_rinnovato:"Scaduto",na:"N/D"};return e.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-full ${i[l]||i.na}`,children:s[l]||"N/D"})},Ue=({isOpen:l,onClose:i,imageUrl:s,alt:h})=>l?e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:e.jsxs(w.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},onClick:c=>c.stopPropagation(),className:"relative max-w-4xl max-h-full",children:[e.jsx("img",{src:s,alt:h,className:"w-full h-auto max-h-screen object-contain rounded-lg shadow-2xl"}),e.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full text-white",children:e.jsx(B,{size:24})}),e.jsx("div",{className:"absolute bottom-4 left-4 text-white bg-black/60 px-3 py-1 rounded text-sm",children:h})]})}):null,Fe=({isOpen:l,onClose:i,client:s,onSave:h})=>{const[c,v]=r.useState(3),[m,x]=r.useState(""),[u,M]=r.useState("bonifico"),[z,E]=r.useState(""),[a,y]=r.useState(""),P=async()=>{try{const d=k(s.scadenza)||new Date,T=a?new Date(a):new Date(d);a||T.setMonth(T.getMonth()+c);const O=u==="altro"?z:u,Q={amount:parseFloat(m)||0,duration:a?"Manuale":`${c} mesi`,paymentDate:new Date,paymentMethod:O},$=N(f,"clients",s.id);await W($,{scadenza:T,payments:[...s.payments||[],Q]}),q(s.id),h(),i()}catch(d){console.error("Errore rinnovo:",d)}};return l?e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs(w.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-slate-800/95 backdrop-blur-sm rounded-2xl border border-slate-700 p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Rinnovo ",s.name]}),e.jsx("button",{onClick:i,className:"text-white hover:text-rose-400",children:e.jsx(B,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Mesi di rinnovo"}),e.jsxs("select",{value:c,onChange:d=>v(parseInt(d.target.value)),className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white",children:[e.jsx("option",{value:1,children:"1 mese"}),e.jsx("option",{value:3,children:"3 mesi"}),e.jsx("option",{value:6,children:"6 mesi"}),e.jsx("option",{value:12,children:"12 mesi"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Oppure data scadenza manuale"}),e.jsx("input",{type:"date",value:a,onChange:d=>y(d.target.value),className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Importo"}),e.jsx("input",{type:"number",value:m,onChange:d=>x(d.target.value),placeholder:"es. 150",className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Metodo"}),e.jsxs("select",{value:u,onChange:d=>M(d.target.value),className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white",children:[e.jsx("option",{value:"bonifico",children:"Bonifico"}),e.jsx("option",{value:"klarna",children:"Klarna 3 rate"}),e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"cash",children:"Contanti"}),e.jsx("option",{value:"rateizzato",children:"Rateizzato"}),e.jsx("option",{value:"altro",children:"Altro"})]}),u==="altro"&&e.jsx("input",{type:"text",value:z,onChange:d=>E(d.target.value),placeholder:"Specifica metodo",className:"w-full mt-2 p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white"})]}),e.jsx("button",{onClick:P,className:"w-full py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold",children:"Salva Rinnovo"})]})]})}):null},Oe=({isOpen:l,onClose:i,client:s,onSave:h})=>{const[c,v]=r.useState({name:s.name||"",email:s.email||"",phone:s.phone||""}),m=async()=>{try{const x=N(f,"clients",s.id);await W(x,c),h(),i()}catch(x){console.error("Errore modifica:",x)}};return l?e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs(w.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-slate-800/95 backdrop-blur-sm rounded-2xl border border-slate-700 p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Modifica ",s.name]}),e.jsx("button",{onClick:i,className:"text-white hover:text-rose-400",children:e.jsx(B,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{value:c.name,onChange:x=>v({...c,name:x.target.value}),placeholder:"Nome",className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white"}),e.jsx("input",{value:c.email,onChange:x=>v({...c,email:x.target.value}),placeholder:"Email",className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white"}),e.jsx("input",{value:c.phone,onChange:x=>v({...c,phone:x.target.value}),placeholder:"Telefono",className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white"}),e.jsx("button",{onClick:m,className:"w-full py-2 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-semibold",children:"Salva Modifiche"})]})]})}):null},$e=({isOpen:l,onClose:i,client:s,onSave:h})=>{var E;const[c,v]=r.useState(7),[m,x]=r.useState(""),[u,M]=r.useState(!1),z=async()=>{try{const a=k(s.scadenza)||new Date,y=u&&m?new Date(m):new Date(a);u||y.setDate(y.getDate()+c);const P=N(f,"clients",s.id);await W(P,{scadenza:y}),q(s.id),h(),i()}catch(a){console.error("Errore prolungamento:",a)}};return l?e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs(w.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-slate-800/95 backdrop-blur-sm rounded-2xl border border-slate-700 p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Prolunga Scadenza"}),e.jsx("button",{onClick:i,className:"text-white hover:text-rose-400",children:e.jsx(B,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:a=>M(a.target.checked),className:"w-4 h-4 text-cyan-500"}),e.jsx("label",{className:"text-sm text-slate-300",children:"Scegli data manuale"})]}),u?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Nuova data scadenza"}),e.jsx("input",{type:"date",value:m,onChange:a=>x(a.target.value),className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white"})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Aggiungi giorni"}),e.jsxs("select",{value:c,onChange:a=>v(parseInt(a.target.value)),className:"w-full p-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white",children:[e.jsx("option",{value:1,children:"+1 giorno"}),e.jsx("option",{value:3,children:"+3 giorni"}),e.jsx("option",{value:7,children:"+7 giorni"}),e.jsx("option",{value:15,children:"+15 giorni"}),e.jsx("option",{value:30,children:"+30 giorni"}),e.jsx("option",{value:60,children:"+60 giorni"})]})]}),e.jsxs("div",{className:"text-xs text-slate-400 p-3 bg-slate-700/30 rounded-lg",children:[e.jsxs("p",{children:["Scadenza attuale: ",e.jsx("strong",{children:((E=k(s.scadenza))==null?void 0:E.toLocaleDateString("it-IT"))||"N/D"})]}),e.jsxs("p",{children:["Nuova scadenza: ",e.jsx("strong",{children:u&&m?new Date(m).toLocaleDateString("it-IT"):k(s.scadenza)?new Date(k(s.scadenza).getTime()+c*864e5).toLocaleDateString("it-IT"):"N/D"})]})]}),e.jsxs("button",{onClick:z,className:"w-full py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-semibold flex items-center justify-center gap-2",children:[e.jsx(le,{size:18})," Prolunga Scadenza"]})]})]})}):null},o=({label:l,value:i})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400",children:l}),e.jsx("p",{className:"mt-1 p-3 bg-white/5 backdrop-blur-md rounded-lg min-h-[44px] text-white break-words whitespace-pre-wrap shadow-inner",children:i||"Non specificato"})]});function ms(){var H;const{clientId:l}=we(),i=ye(),[s,h]=r.useState(null),[c,v]=r.useState(!0),[m,x]=r.useState("info"),[u,M]=r.useState([]),[z,E]=r.useState([]),[a,y]=r.useState(null),[P,d]=r.useState(null),[T,O]=r.useState(!1),[Q,$]=r.useState(!1),[ie,K]=r.useState(!1),[ne,_]=r.useState(!1),[Z,G]=r.useState({open:!1,url:"",alt:""});r.useEffect(()=>{if(!l){d("ID cliente non valido."),setTimeout(()=>i("/clients"),3e3);return}const t=N(f,"clients",l),n=C(t,p=>{if(p.exists()){const j={id:p.id,...p.data()};h(j),q(l)}else d("Cliente non trovato."),setTimeout(()=>i("/clients"),3e3);v(!1)},p=>{d("Errore caricamento."),setTimeout(()=>i("/clients"),3e3),v(!1)}),R=N(f,"clients",l,"anamnesi","initial"),L=C(R,async p=>{if(p.exists()){let j=p.data();if(j.photoURLs){const D={};for(const[b,g]of Object.entries(j.photoURLs))if(g&&typeof g=="string")if(g.startsWith("http"))D[b]=g;else try{D[b]=await ee(se(te,g))}catch(S){console.error(`Errore foto ${b}:`,S),D[b]=null}else D[b]=null;j.photoURLs=D}y(j)}else y(null)}),xe=X(Y(f,"clients",l,"checks"),V("createdAt","desc")),he=C(xe,async p=>{const j=p.docs.map(b=>({id:b.id,...b.data()})),D=await Promise.all(j.map(async b=>{if(b.photoURLs){const g={};for(const[S,U]of Object.entries(b.photoURLs))if(U&&typeof U=="string")if(U.startsWith("http"))g[S]=U;else try{g[S]=await ee(se(te,U))}catch(be){console.error(`Errore caricamento foto ${S}:`,be),g[S]=null}else g[S]=null;b.photoURLs=g}return b}));M(D)},p=>{console.error("Errore caricamento checks:",p)}),ue=X(Y(f,"clients",l,"payments"),V("paymentDate","desc")),pe=C(ue,p=>{E(p.docs.map(j=>({id:j.id,...j.data()})))});return()=>{n(),L(),he(),pe()}},[l,i]);const re=async()=>{if(window.confirm(`Eliminare ${s==null?void 0:s.name}?`))try{await ve(N(f,"clients",l)),i("/clients")}catch{alert("Errore eliminazione.")}},oe=()=>{const t=`Ciao ${s.name},

Link: https://MentalFitApp.github.io/PtPro/#/login
Email: ${s.email}
Password: ${s.tempPassword||"Contatta admin"}`;navigator.clipboard.writeText(t),O(!0),setTimeout(()=>O(!1),2500)},ce=()=>{const t=N(f,"clients",l);C(t,n=>{n.exists()&&h({id:n.id,...n.data()})})},de=()=>{const t=N(f,"clients",l);C(t,n=>{n.exists()&&h({id:n.id,...n.data()})})},me=()=>{const t=N(f,"clients",l);C(t,n=>{n.exists()&&h({id:n.id,...n.data()})})};if(c)return e.jsx("div",{className:"text-center text-slate-400 p-8",children:"Caricamento..."});if(P)return e.jsx("div",{className:"text-center text-red-400 p-8",children:P});if(!s)return null;const A="bg-white/5 backdrop-blur-xl rounded-2xl border border-slate-700 p-6 shadow-lg border border-white/10",I="font-bold mb-4 text-lg text-cyan-300 border-b border-cyan-400/20 pb-2 flex items-center gap-2";return e.jsx(Ie,{children:e.jsxs(w.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full max-w-5xl mx-auto p-4 sm:p-6",children:[e.jsxs("button",{onClick:()=>i("/clients"),className:"flex items-center gap-2 text-slate-400 hover:text-rose-400 mb-6",children:[e.jsx(ke,{size:18})," Torna ai Clienti"]}),e.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-2xl border border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-50",children:s.name}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(Ne,{userId:l,userName:s.name,userType:"client"}),e.jsxs("button",{onClick:()=>K(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-600 hover:bg-rose-700 text-white text-sm rounded-lg",children:[e.jsx(ze,{size:16})," Modifica"]}),e.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white text-sm rounded-lg",children:[e.jsx(De,{size:16})," Rinnovo"]}),e.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white text-sm rounded-lg",children:[e.jsx(le,{size:16})," Prolunga"]}),e.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg",children:[e.jsx(Se,{size:16})," Elimina"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6 bg-slate-900/50 p-1 rounded-lg border border-slate-700",children:["info","check","payments","anamnesi"].map(t=>e.jsx("button",{onClick:()=>x(t),className:`px-4 py-2 text-sm rounded-md transition-colors ${m===t?"bg-rose-600 text-white":"text-slate-400 hover:bg-white/10"}`,children:t==="info"?"Informazioni":t==="check"?"Check":t==="payments"?"Pagamenti":"Anamnesi"},t))}),m==="info"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{className:"text-slate-400",size:18}),e.jsxs("p",{children:["Nome: ",e.jsx("span",{className:"font-semibold",children:s.name})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"text-slate-400",size:18}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{children:["Email: ",e.jsx("span",{className:"font-semibold",children:s.email})]}),e.jsx("button",{onClick:oe,className:"p-1 text-slate-400 hover:text-emerald-400",children:T?e.jsx(Pe,{size:16}):e.jsx(Re,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Me,{className:"text-slate-400",size:18}),e.jsxs("p",{children:["Telefono: ",e.jsx("span",{className:"font-semibold",children:s.phone||"N/D"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"text-slate-400",size:18}),e.jsxs("p",{children:["Scadenza: ",e.jsx("span",{className:"font-semibold",children:((H=k(s.scadenza))==null?void 0:H.toLocaleDateString("it-IT"))||"N/D"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"text-slate-400",size:18}),e.jsxs("p",{children:["Stato: ",e.jsx(Le,{status:s.statoPercorso})]})]})]}),m==="check"&&e.jsx("div",{className:"space-y-6",children:u.length>0?u.map(t=>{var n;return e.jsxs("div",{className:"p-5 bg-slate-700/50 rounded-xl border border-slate-600",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-300",children:["Data: ",((n=k(t.createdAt))==null?void 0:n.toLocaleDateString("it-IT"))||"N/D"]}),e.jsxs("p",{className:"text-sm text-slate-300",children:["Peso: ",e.jsxs("span",{className:"font-semibold",children:[t.weight||"N/D"," kg"]})]})]}),t.notes&&e.jsxs("p",{className:"text-sm text-slate-400 mb-4 italic",children:['"',t.notes,'"']}),t.photoURLs&&Object.values(t.photoURLs).some(Boolean)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Foto:"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(t.photoURLs).map(([R,L])=>L?e.jsxs("button",{onClick:()=>G({open:!0,url:L,alt:R}),className:"relative group overflow-hidden rounded-xl",children:[e.jsx("img",{src:L,alt:R,className:"w-full h-40 sm:h-48 object-cover transition-transform duration-300 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:e.jsx(ae,{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity",size:28})}),e.jsx("span",{className:"absolute bottom-1 left-1 text-xs bg-black/70 text-white px-2 py-0.5 rounded",children:R})]},R):null)})]})]},t.id)}):e.jsx("p",{className:"text-center text-slate-400 py-8",children:"Nessun check."})}),m==="payments"&&e.jsx("div",{className:"space-y-4",children:z.length>0?z.map(t=>{var n;return e.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg border border-slate-600",children:[e.jsxs("p",{className:"text-sm text-slate-400",children:["Data: ",((n=k(t.paymentDate))==null?void 0:n.toLocaleDateString("it-IT"))||"N/D"]}),e.jsxs("p",{className:"text-sm text-slate-200",children:["Importo: ",new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(t.amount||0)]}),e.jsxs("p",{className:"text-sm text-slate-200",children:["Durata: ",t.duration]}),e.jsxs("p",{className:"text-sm text-slate-200",children:["Metodo: ",t.paymentMethod]})]},t.id)}):e.jsx("p",{className:"text-center text-slate-400",children:"Nessun pagamento."})}),m==="anamnesi"&&e.jsx("div",{className:"space-y-8",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:A,children:[e.jsxs("h4",{className:I,children:[e.jsx(F,{size:16})," Dati Anagrafici"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(o,{label:"Nome",value:a.firstName}),e.jsx(o,{label:"Cognome",value:a.lastName}),e.jsx(o,{label:"Data di Nascita",value:a.birthDate}),e.jsx(o,{label:"Lavoro",value:a.job}),e.jsx(o,{label:"Peso (kg)",value:a.weight}),e.jsx(o,{label:"Altezza (cm)",value:a.height})]})]}),e.jsxs("div",{className:A,children:[e.jsxs("h4",{className:I,children:[e.jsx(F,{size:16})," Abitudini Alimentari"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{label:"Pasti al giorno",value:a.mealsPerDay}),e.jsx(o,{label:"Tipo Colazione",value:a.breakfastType}),e.jsx(o,{label:"Alimenti preferiti",value:a.desiredFoods}),e.jsx(o,{label:"Alimenti da evitare",value:a.dislikedFoods}),e.jsx(o,{label:"Allergie/Intolleranze",value:a.intolerances}),e.jsx(o,{label:"Problemi di digestione",value:a.digestionIssues})]})]}),e.jsxs("div",{className:A,children:[e.jsxs("h4",{className:I,children:[e.jsx(F,{size:16})," Allenamento"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{label:"Allenamenti a settimana",value:a.workoutsPerWeek}),e.jsx(o,{label:"Dettagli Allenamento",value:a.trainingDetails}),e.jsx(o,{label:"Orario e Durata",value:a.trainingTime})]})]}),e.jsxs("div",{className:A,children:[e.jsxs("h4",{className:I,children:[e.jsx(F,{size:16})," Salute e Obiettivi"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{label:"Infortuni o problematiche",value:a.injuries}),e.jsx(o,{label:"Farmaci",value:a.medications}),e.jsx(o,{label:"Integratori",value:a.supplements}),e.jsx(o,{label:"Obiettivo Principale",value:a.mainGoal}),e.jsx(o,{label:"Durata Percorso",value:a.programDuration})]})]}),e.jsxs("div",{className:A,children:[e.jsxs("h4",{className:I,children:[e.jsx(F,{size:16})," Foto Iniziali"]}),e.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Caricate dal cliente al momento dell'iscrizione."}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:["front","right","left","back"].map(t=>{var n;return e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-400 capitalize mb-2",children:t==="front"?"Frontale":t==="back"?"Posteriore":`Laterale ${t==="left"?"Sinistro":"Destro"}`}),(n=a.photoURLs)!=null&&n[t]?e.jsxs("button",{onClick:()=>G({open:!0,url:a.photoURLs[t],alt:t}),className:"relative group overflow-hidden rounded-xl w-full h-48",children:[e.jsx("img",{src:a.photoURLs[t],alt:t,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 flex items-center justify-center transition-colors",children:e.jsx(ae,{className:"text-white opacity-0 group-hover:opacity-100",size:32})})]}):e.jsx("div",{className:"flex justify-center items-center w-full h-48 bg-white/5 backdrop-blur-md rounded-lg text-slate-500",children:e.jsx("span",{children:"Non caricata"})})]},t)})})]})]}):e.jsx("p",{className:"text-center text-slate-400 py-8",children:"Nessuna anamnesi compilata."})})]}),e.jsx(Fe,{isOpen:Q,onClose:()=>$(!1),client:s,onSave:ce}),e.jsx(Oe,{isOpen:ie,onClose:()=>K(!1),client:s,onSave:de}),e.jsx($e,{isOpen:ne,onClose:()=>_(!1),client:s,onSave:me}),e.jsx(Ue,{isOpen:Z.open,onClose:()=>G({open:!1,url:"",alt:""}),imageUrl:Z.url,alt:Z.alt})]})})}export{ms as default};
