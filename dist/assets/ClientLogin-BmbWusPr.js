import{r as t,a as w,j as e,L as N,s as z,b as h,h as C,f as S,l as L,I as A}from"./index-anlJ2MEK.js";import{m as E}from"./proxy-QSBDSPTy.js";import{M as k}from"./mail-QFX5M3NM.js";import{L as I}from"./lock-CfMEKJsa.js";import{L as D}from"./log-in-DchyP5XH.js";const P=()=>e.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden bg-zinc-950",children:e.jsx("div",{className:"aurora-background"})}),F=()=>{const[r,g]=t.useState(""),[n,f]=t.useState(""),[o,a]=t.useState(""),[l,c]=t.useState(!1),d=w(),b=async s=>{s.preventDefault(),a(""),c(!0);try{const j=(await z(h,r,n)).user,v=C(S,"clients",j.uid),i=await L(v);if(i.exists()&&i.data().isClient===!0){sessionStorage.setItem("app_role","client");const y=i.data().firstLogin===!0;d(y?"/client/first-access":"/client/dashboard")}else a("Accesso non autorizzato. Area riservata ai clienti."),await A(h)}catch(p){a("Credenziali non valide. Riprova."),console.error("Errore di login:",p.message)}finally{c(!1)}},u="relative",m="w-full p-3 pl-10 bg-zinc-900/70 border border-white/10 rounded-lg outline-none focus:ring-2 focus:ring-cyan-500 transition-all text-slate-200",x="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400";return e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[e.jsx(P,{}),e.jsxs(E.div,{className:"w-full max-w-md bg-zinc-950/60 backdrop-blur-xl rounded-2xl gradient-border p-8 space-y-8 shadow-2xl shadow-black/20",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-50",children:"Area Clienti"}),e.jsx("p",{className:"text-slate-400 mt-2",children:"Accedi con le credenziali fornite dal tuo coach."})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:u,children:[e.jsx(k,{size:18,className:x}),e.jsx("input",{type:"email",value:r,onChange:s=>g(s.target.value),required:!0,placeholder:"Email",className:m,autoComplete:"email"})]}),e.jsxs("div",{className:u,children:[e.jsx(I,{size:18,className:x}),e.jsx("input",{type:"password",value:n,onChange:s=>f(s.target.value),required:!0,placeholder:"Password",className:m,autoComplete:"current-password"})]}),o&&e.jsx("p",{className:"text-red-500 text-sm text-center",children:o}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 px-4 py-3 font-bold text-white bg-cyan-600 rounded-lg hover:bg-cyan-700 transition-colors disabled:bg-cyan-900 disabled:cursor-not-allowed",children:[e.jsx(D,{size:18}),l?"Accesso in corso...":"Accedi"]})})]}),e.jsx("div",{className:"text-center",children:e.jsx(N,{to:"/client/forgot-password",className:"text-sm text-slate-400 hover:text-cyan-400 hover:underline transition-colors",children:"Password dimenticata?"})})]})]})};export{F as default};
