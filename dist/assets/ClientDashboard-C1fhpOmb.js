import{r as g,a as C,q as k,j as e,h as w,f as D,l as L,I as b,L as S}from"./index-anlJ2MEK.js";import{c as m,m as o}from"./proxy-QSBDSPTy.js";import{C as I}from"./calendar-Bva6_DFN.js";import{S as f}from"./square-check-big-CekbCxe2.js";import{U as B}from"./user-CwCetbIm.js";import{M as V}from"./message-square-BIN7rgw0.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=m("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=m("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=m("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=m("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),y=()=>e.jsx("div",{className:"absolute inset-0 -z-10 overflow-hidden bg-zinc-950",children:e.jsx("div",{className:"aurora-background"})}),q=()=>e.jsxs("div",{className:"min-h-screen flex justify-center items-center relative",children:[e.jsx(y,{}),e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-400"})]}),u=({title:t,value:i,subtext:n,icon:r,variants:a})=>e.jsxs(o.div,{variants:a,className:"bg-zinc-950/60 backdrop-blur-xl rounded-2xl gradient-border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-300",children:t}),e.jsx("div",{className:"text-cyan-300",children:r})]}),e.jsx("p",{className:"text-3xl font-bold text-slate-50 mt-2",children:i}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:n})]}),x=({to:t,title:i,description:n,icon:r,variants:a})=>e.jsx(o.div,{variants:a,children:e.jsxs(S,{to:t,className:"group bg-zinc-900/70 hover:bg-zinc-800/90 border border-white/10 rounded-lg p-4 flex items-center gap-4 transition-all duration-300",children:[e.jsx("div",{className:"bg-zinc-800 group-hover:bg-cyan-500 text-cyan-400 group-hover:text-white p-3 rounded-lg transition-colors duration-300",children:r}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-slate-200",children:i}),e.jsx("p",{className:"text-sm text-slate-400",children:n})]}),e.jsx(T,{className:"text-slate-500 group-hover:text-white transition-colors duration-300"})]})}),F=()=>{const[t,i]=g.useState(null),[n,r]=g.useState(!0),a=C(),h=k(),p=h.currentUser;g.useEffect(()=>{p?(async()=>{const l=w(D,"clients",p.uid),d=await L(l);d.exists()?i(d.data()):(await b(h),a("/client-login")),r(!1)})():a("/client-login")},[p,a]);const N=()=>{b(h).then(()=>{sessionStorage.removeItem("app_role"),a("/client-login")})};if(n)return e.jsx(q,{});if(!t)return e.jsx("p",{children:"Errore nel caricamento dei dati."});let j="N/D",v="Non impostata";if(t.scadenza&&t.scadenza.toDate){const c=t.scadenza.toDate(),l=new Date;c.setHours(23,59,59,999),l.setHours(0,0,0,0);const d=c-l;j=Math.max(0,Math.ceil(d/(1e3*60*60*24))),v=c.toLocaleDateString("it-IT")}const z={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return e.jsxs("div",{className:"min-h-screen text-slate-200 p-4 sm:p-8 relative",children:[e.jsx(y,{}),e.jsxs(o.div,{initial:"hidden",animate:"visible",variants:z,children:[e.jsxs(o.header,{variants:s,className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-50",children:["Ciao, ",t.name,"!"]}),e.jsx("p",{className:"text-slate-300",children:"Benvenuto nella tua area personale."})]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-3 py-2 bg-red-600/80 hover:bg-red-600 text-white text-sm font-semibold rounded-lg transition-colors",children:[e.jsx(A,{size:16}),e.jsx("span",{children:"Logout"})]})]}),e.jsxs("main",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(u,{title:"Scadenza Percorso",value:`${j} giorni`,subtext:`Scade il: ${v}`,icon:e.jsx(I,{size:24}),variants:s}),e.jsx(u,{title:"Tipo Percorso",value:t.planType?t.planType.charAt(0).toUpperCase()+t.planType.slice(1):"Non specificato",subtext:"Il tuo piano attuale",icon:e.jsx(R,{size:24}),variants:s}),e.jsx(u,{title:"Prossimo Check",value:"Vedi Calendario",subtext:"Rimani costante!",icon:e.jsx(f,{size:24}),variants:s})]}),e.jsxs(o.div,{variants:s,className:"bg-zinc-950/60 backdrop-blur-xl rounded-2xl gradient-border p-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Cosa vuoi fare?"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx(x,{to:"/client/anamnesi",title:"La mia Anamnesi",description:"Visualizza o aggiorna i tuoi dati",icon:e.jsx(B,{size:22}),variants:s}),e.jsx(x,{to:"/client/checks",title:"I miei Check",description:"Carica i tuoi progressi periodici",icon:e.jsx(f,{size:22}),variants:s}),e.jsx(x,{to:"/client/payments",title:"I miei Pagamenti",description:"Visualizza lo storico dei pagamenti",icon:e.jsx(M,{size:22}),variants:s}),e.jsx(x,{to:"/client/chat",title:"Chat con il Coach",description:"Invia un messaggio diretto",icon:e.jsx(V,{size:22}),variants:s})]})]})]})]})]})};export{F as default};
